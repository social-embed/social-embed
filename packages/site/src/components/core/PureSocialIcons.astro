---
import CodebergIcon from "../icons/CodebergIcon.astro";
import GitHubIcon from "../icons/GitHubIcon.astro";
import GitLabIcon from "../icons/GitLabIcon.astro";
/**
 * Pure Astro equivalent of Starlight's SocialIcons component.
 * Displays search button + GitHub, GitLab, Codeberg icons.
 * GitLab/Codeberg hidden on mobile to save space.
 */
import PureSearchButton from "./PureSearchButton.astro";
---

<div class="social-icons">
  <PureSearchButton />

  <a href="https://github.com/social-embed/social-embed" target="_blank" rel="noopener me" aria-label="GitHub" title="GitHub">
    <span class="sr-only">GitHub</span>
    <GitHubIcon class="w-5 h-5" fill="currentColor" />
  </a>

  <a href="https://gitlab.com/social-embed/social-embed" target="_blank" rel="noopener me" aria-label="GitLab" title="GitLab" class="hide-mobile">
    <span class="sr-only">GitLab</span>
    <GitLabIcon class="w-5 h-5" fill="currentColor" />
  </a>

  <a href="https://codeberg.org/social-embed/social-embed" target="_blank" rel="noopener me" aria-label="Codeberg" title="Codeberg" class="hide-mobile">
    <span class="sr-only">Codeberg</span>
    <CodebergIcon class="w-5 h-5" fill="currentColor" />
  </a>
</div>

<style>
  .social-icons {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  /* Tighter gap on narrow mobile */
  @media (max-width: 29.99rem) {
    .social-icons {
      gap: 0.25rem;
    }
  }

  a {
    color: var(--nav-text-muted);
    display: none;  /* Hidden on narrow mobile */
  }

  /* Show social links at 30rem+ (480px) */
  @media (min-width: 30rem) {
    a {
      display: flex;
    }
  }

  a:hover {
    opacity: 0.66;
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Hide GitLab/Codeberg on narrow screens */
  .hide-mobile {
    display: none;
  }

  @media (min-width: 50rem) {
    .hide-mobile {
      display: flex;
    }
  }
</style>
