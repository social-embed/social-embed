---
/**
 * Shared header layout skeleton for pure Astro pages.
 * Provides consistent flexbox layout and CSS styling.
 * Uses --nav-* variables (our source of truth).
 */
---

<div class="header">
  <div class="mobile-toggles">
    <slot name="mobile-toggles" />
  </div>
  <div class="title-wrapper">
    <slot name="logo" />
  </div>
  <div class="package-nav-area">
    <slot name="package-nav" />
  </div>
  <div class="nav-area">
    <slot name="nav" />
  </div>
  <div class="right-group">
    <slot name="social" />
    <slot name="theme" />
  </div>
</div>

<style>
  .header {
    display: flex;
    gap: var(--nav-gap, 1rem);
    align-items: center;
    height: 100%;
  }

  .mobile-toggles {
    display: flex;
    align-items: center;
    padding-left: var(--nav-inner-pad, 1rem);
    flex-shrink: 0;
  }

  .mobile-toggles:empty {
    display: none;
    padding: 0;
  }

  .title-wrapper {
    overflow: clip;
    padding: 0.25rem;
    padding-left: var(--nav-inner-pad, 1rem);
    margin: -0.25rem;
    margin-left: 0;
    min-width: 0;
    flex-shrink: 0;
  }

  /* When mobile toggles present, reduce title padding */
  .mobile-toggles:not(:empty) + .title-wrapper {
    padding-left: 0.25rem;
  }

  .package-nav-area {
    flex: 1;
    display: flex;
    justify-content: flex-start;
    align-items: center;
  }

  .nav-area {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 1rem;
  }

  .right-group {
    display: flex;
    gap: 1rem;
    align-items: center;
    padding-right: var(--nav-inner-pad, 1rem);
  }

  /* Divider after social icons (before theme select) */
  .right-group ::slotted([slot="social"])::after {
    content: "";
    height: 2rem;
    border-inline-end: 1px solid var(--nav-border);
    margin-inline-start: 1rem;
  }

  /* Hide nav on mobile, show on md+ */
  @media (max-width: 49.99rem) {
    .nav-area {
      display: none;
    }
  }

  /* At narrow mobile widths, tighten spacing */
  @media (max-width: 29.99rem) {
    .header {
      gap: 0.25rem;
    }
    .mobile-toggles {
      padding-left: 0.5rem;
    }
    .right-group {
      padding-right: 0.5rem;
    }
  }
</style>
